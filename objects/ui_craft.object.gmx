<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_craft</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///prepare
state=n0;
stime=n0;
blink=n0;
//crafting
multiplier=n1;//amount to craft
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///craft requirements calculation
cn0 = ds_grid_get(global.craft_requirement[#page,select],n0,n0); cn0c = c_white;
ca0 = ds_grid_get(global.craft_requirement[#page,select],n0,n1) * multiplier; if(ca0&gt;func_item_amount(cn0)){cn0c=c_gray;}
cn1 = ds_grid_get(global.craft_requirement[#page,select],n1,n0); cn1c = c_white;
ca1 = ds_grid_get(global.craft_requirement[#page,select],n1,n1) * multiplier; if(ca1&gt;func_item_amount(cn1)){cn1c=c_gray;}
cn2 = ds_grid_get(global.craft_requirement[#page,select],n2,n0); cn2c = c_white;
ca2 = ds_grid_get(global.craft_requirement[#page,select],n2,n1) * multiplier; if(ca2&gt;func_item_amount(cn2)){cn2c=c_gray;}
cn3 = ds_grid_get(global.craft_requirement[#page,select],n3,n0); cn3c = c_white;
ca3 = ds_grid_get(global.craft_requirement[#page,select],n3,n1) * multiplier; if(ca3&gt;func_item_amount(cn3)){cn3c=c_gray;}
cn4 = ds_grid_get(global.craft_requirement[#page,select],n4,n0); cn4c = c_white;
ca4 = ds_grid_get(global.craft_requirement[#page,select],n4,n1) * multiplier; if(ca4&gt;func_item_amount(cn4)){cn4c=c_gray;}
cn5 = ds_grid_get(global.craft_requirement[#page,select],n5,n0); cn5c = c_white;
ca5 = ds_grid_get(global.craft_requirement[#page,select],n5,n1) * multiplier; if(ca5&gt;func_item_amount(cn5)){cn5c=c_gray;}
cn6 = ds_grid_get(global.craft_requirement[#page,select],n6,n0); cn6c = c_white;
ca6 = ds_grid_get(global.craft_requirement[#page,select],n6,n1) * multiplier; if(ca6&gt;func_item_amount(cn6)){cn6c=c_gray;}
cn7 = ds_grid_get(global.craft_requirement[#page,select],n7,n0); cn7c = c_white;
ca7 = ds_grid_get(global.craft_requirement[#page,select],n7,n1) * multiplier; if(ca7&gt;func_item_amount(cn7)){cn7c=c_gray;}
cn8 = ds_grid_get(global.craft_requirement[#page,select],n8,n0); cn8c = c_white;
ca8 = ds_grid_get(global.craft_requirement[#page,select],n8,n1) * multiplier; if(ca8&gt;func_item_amount(cn8)){cn8c=c_gray;}
//craft target
ct = ds_grid_get(global.craft_requirement[#page,select],n9,n0);
if(ct&gt;n0){cs = spr_tool;}
else{cs = spr_item;}
ci = ds_grid_get(global.craft_requirement[#page,select],n9,n1);
cc = ds_grid_get(global.craft_requirement[#page,select],n2*n5,n0)  * multiplier;
ca = c_gray; if(cn0c == c_white &amp;&amp; cn1c == c_white &amp;&amp; cn2c == c_white &amp;&amp; cn3c == c_white &amp;&amp; cn4c == c_white &amp;&amp; cn5c == c_white &amp;&amp; cn6c == c_white &amp;&amp; cn7c == c_white &amp;&amp; cn8c == c_white){ca = c_white;}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///script
//anim
if(state=0){
    if(stime&lt;45){stime++}
    //click
    else if(mouse_check_button_released(mb_left)){if(!instance_exists(ui_dialog)){
        //add more
        if(mouse_x&gt;=480&amp;&amp;mouse_y&gt;=400&amp;&amp;mouse_x&lt;=640&amp;&amp;mouse_y&lt;=560){func_sound_click();
            multiplier=multiplier+n1;
        }
        //yes
        else if(mouse_x&gt;=80&amp;&amp;mouse_y&gt;=760&amp;&amp;mouse_x&lt;=320&amp;&amp;mouse_y&lt;=880){func_sound_click();
            var result = func_craft(page,select,multiplier);
            if(result==n0){
                var de = instance_create(0,0,ui_dialog_alert);
                de.text=global.txt_craft_insufficient;
                de.buttontext=global.txt_ok;
            }
        }
        //no
        else if(mouse_x&gt;=400&amp;&amp;mouse_y&gt;=760&amp;&amp;mouse_x&lt;=640&amp;&amp;mouse_y&lt;=880){func_sound_click();
            state=n1;
        }
        event_perform(ev_other,ev_user0);//update
    }}
}
else{
    if(stime&gt;0){stime--;}
    else{instance_destroy();}
}
var dy=func_dy(stime,45);
//draw_dim
draw_dim(stime,45);
//draw_bottom
draw_sprite_ext(spr_craft,1,0,dy,1,1,0,c_white,1);
//draw_requirements, see database for more details
if(cn0&gt;-1){ draw_sprite_ext(spr_item,cn0,140,dy+380,1,1,0,cn0c,1); draw_shadowed_text(140,dy+380,string(ca0),global.font,fa_middle,fa_center,cn0c); draw_shadowed_text_ext(180,dy+400,string(func_item_amount(cn0)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn1&gt;-1){ draw_sprite_ext(spr_item,cn1,260,dy+380,1,1,0,cn1c,1); draw_shadowed_text(260,dy+380,string(ca1),global.font,fa_middle,fa_center,cn1c); draw_shadowed_text_ext(300,dy+400,string(func_item_amount(cn1)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn2&gt;-1){ draw_sprite_ext(spr_item,cn2,380,dy+380,1,1,0,cn2c,1); draw_shadowed_text(380,dy+380,string(ca2),global.font,fa_middle,fa_center,cn2c); draw_shadowed_text_ext(420,dy+400,string(func_item_amount(cn2)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn3&gt;-1){ draw_sprite_ext(spr_item,cn3,140,dy+500,1,1,0,cn3c,1); draw_shadowed_text(140,dy+500,string(ca3),global.font,fa_middle,fa_center,cn3c); draw_shadowed_text_ext(180,dy+520,string(func_item_amount(cn3)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn4&gt;-1){ draw_sprite_ext(spr_item,cn4,260,dy+500,1,1,0,cn4c,1); draw_shadowed_text(260,dy+500,string(ca4),global.font,fa_middle,fa_center,cn4c); draw_shadowed_text_ext(300,dy+520,string(func_item_amount(cn4)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn5&gt;-1){ draw_sprite_ext(spr_item,cn5,380,dy+500,1,1,0,cn5c,1); draw_shadowed_text(380,dy+500,string(ca5),global.font,fa_middle,fa_center,cn5c); draw_shadowed_text_ext(420,dy+520,string(func_item_amount(cn5)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn6&gt;-1){ draw_sprite_ext(spr_item,cn6,140,dy+620,1,1,0,cn6c,1); draw_shadowed_text(140,dy+620,string(ca6),global.font,fa_middle,fa_center,cn6c); draw_shadowed_text_ext(180,dy+640,string(func_item_amount(cn6)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn7&gt;-1){ draw_sprite_ext(spr_item,cn7,260,dy+620,1,1,0,cn7c,1); draw_shadowed_text(260,dy+620,string(ca7),global.font,fa_middle,fa_center,cn7c); draw_shadowed_text_ext(300,dy+640,string(func_item_amount(cn7)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
if(cn8&gt;-1){ draw_sprite_ext(spr_item,cn8,380,dy+620,1,1,0,cn8c,1); draw_shadowed_text(380,dy+620,string(ca8),global.font,fa_middle,fa_center,cn8c); draw_shadowed_text_ext(420,dy+640,string(func_item_amount(cn8)),global.font,fa_right,fa_bottom,c_white,0,200,0.75,0.75,0);}
//draw target
draw_sprite_ext(cs,ci,560,dy+480,4/3,4/3,0,ca,1);
if(cc&gt;n0){
    draw_shadowed_text(620,dy+540,string(cc),global.font,fa_right,fa_bottom,c_white);//amount
    draw_shadowed_text_ext(620,dy+420,string(func_item_amount(ci)),global.font,fa_right,fa_top,cn8c,0,200,0.75,0.75,0);//current
}
//draw_center
draw_sprite_ext(spr_craft,0,0,dy,1,1,0,c_white,1);
//draw_top
draw_sprite_ext(spr_craft,2,0,dy,1,1,0,c_black,1);
draw_sprite_ext(spr_craft,2,0,dy,1,1,0,c_white,1-(0.3 * cos(degtorad(blink))));//blink
//draw_txt
draw_sharp_text(360,dy+680,global.txt_confirm_craft,global.font,fa_middle,fa_top,c_black);
draw_sharp_text(200,dy+820,global.txt_yes,global.font,fa_middle,fa_center,c_black);
draw_sharp_text(520,dy+820,global.txt_no,global.font,fa_middle,fa_center,c_black);
if(blink&gt;359){blink=0;}else{blink++;}//blink
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
